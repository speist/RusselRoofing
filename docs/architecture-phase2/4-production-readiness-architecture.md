# 4. Production Readiness Architecture

* **Environment Configuration:**
    To manage API keys and other secrets securely, the `dev` agent will implement the following structure:
    1.  A `.env.example` file will be maintained in the repository. It will list all required environment variables with placeholder values (e.g., `HUBSPOT_API_KEY="your_hubspot_key_here"`).
    2.  Developers will use a `.env.local` file for their local keys, which will be ignored by version control.
    3.  For production, all secrets will be set directly in the Vercel project's Environment Variables dashboard.

* **Environment Variable Validation:**
    To prevent runtime errors from missing configuration, the `dev` agent will implement a validation step using the **Zod** library.
    1.  A schema will be created that defines all required environment variables and their expected types.
    2.  This schema will parse the environment variables when the application starts.
    3.  If any variable is missing or has the wrong format, the build or startup process will fail immediately with a clear error message.

* **Custom Domain & SSL Preparation:**
    Vercel automatically provides and renews SSL certificates. The architectural work is to ensure the codebase is domain-agnostic.
    1.  A new environment variable, `NEXT_PUBLIC_SITE_URL`, will be created.
    2.  The `dev` agent will be instructed to use this variable for any part of the code that requires the full site URL (e.g., for SEO canonical tags or sharing links).
    3.  This ensures that when you connect your custom domain in the Vercel dashboard, all links generated by the application will update automatically.